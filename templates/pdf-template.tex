\documentclass{book}

% Colors
\usepackage{xcolor}

%% Tango color scheme
\definecolor{SkyBlue}{HTML}{3465A4}
\definecolor{DarkSkyBlue}{HTML}{204A87}
\definecolor{Plum}{HTML}{75507B}
\definecolor{ScarletRed}{HTML}{CC0000}
\definecolor{Aluminium1}{HTML}{EEEEEC}
\definecolor{Aluminium6}{HTML}{2e3436}
\definecolor{Black}{HTML}{000000}

% Links

%% Hyperref
\usepackage[colorlinks, breaklinks, bookmarks, xetex]{hyperref}

\hypersetup {
  linkcolor = DarkSkyBlue,
  citecolor = DarkSkyBlue,
  filecolor = DarkSkyBlue,
  urlcolor = DarkSkyBlue
}

% Code coloring
\definecolor{commentColor}{rgb}{0.5,0.5,0.5}
\definecolor{stringColor}{HTML}{D81745}
\definecolor{keywordColor}{HTML}{445588}

\usepackage{listings}
\lstset{ %
  language=Ruby,                % choose the language of the code
  basicstyle=\footnotesize,       % the size of the fonts that are used for the code
  numbers=left,                   % where to put the line-numbers
  numberstyle=\footnotesize,      % the size of the fonts that are used for the line-numbers
  stepnumber=1,                   % the step between two line-numbers. If it is 1 each line will be numbered
  numbersep=5pt,                  % how far the line-numbers are from the code
  backgroundcolor=\color{white},  % choose the background color. You must add \usepackage{color}
  showspaces=false,               % show spaces adding particular underscores
  showstringspaces=false,         % underline spaces within strings
  showtabs=false,                 % show tabs within strings adding particular underscores
  frame=single,           % adds a frame around the code
  tabsize=2,          % sets default tabsize to 2 spaces
  captionpos=b,           % sets the caption-position to bottom
  breaklines=true,        % sets automatic line breaking
  breakatwhitespace=false,    % sets if automatic breaks should only happen at whitespace
  keywordstyle=\color{keywordColor},       % keyword style
  numberstyle=\tiny\color{commentColor}, % the style that is used for the line-numbers
  rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
  commentstyle=\color{commentColor},    % comment style
  stringstyle=\color{stringColor} % string style
}
% this would be better as it uses pygments
% \usepackage{minted}

% Fonts and typography

%% Typography
\usepackage[no-math]{fontspec}
\defaultfontfeatures{Mapping = tex-text, Scale = MatchLowercase}

%% Fonts
\setmainfont[Scale=1.1]{Roboto Slab Light}

% Page

% %% Use full page in book style
% \usepackage{fullpage}

%% Set line spacing
\linespread{1.2}

% half-inch margins
\usepackage[margin=0.8in]{geometry}

%% Disable paragraph indentation
\usepackage{parskip}

%% Start sections from new page
\let\stdsection\section
\renewcommand\section{\newpage\stdsection}


%% Donâ€™t use Mono font for URLs
\urlstyle{same}

% graphics config
$if(graphics)$
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
$endif$

%% Normal enumerates processing
\usepackage{enumerate}

%% Disable section numbers
\setcounter{secnumdepth}{0}

\pagestyle{empty}

\begin{document}

  % Title page

  % \vspace*{\fill}
  %   \begin{center}
  %     {\Huge apprentice.io}
  %   \end{center}
  % \vspace*{\fill}

  % \clearpage

  \setcounter{page}{0}

  % Book contents

  $body$

\end{document}
